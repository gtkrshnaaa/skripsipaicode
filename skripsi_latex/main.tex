% Main LaTeX file for the thesis
% All comments are in English as per coding convention, but content is Indonesian.

\documentclass[12pt,a4paper]{report}

% --- Packages ---
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[indonesian]{babel}
\usepackage{lmodern}
\usepackage{geometry}
\usepackage{setspace}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{longtable}
\usepackage{booktabs}
\usepackage{array}
\usepackage{enumitem}
\usepackage{listings}
\usepackage{listingsutf8}
\usepackage{xcolor}
\usepackage{titlesec}
\usepackage{csquotes}
\usepackage{nameref}
% Bibliography using BibTeX (simple and Ubuntu-friendly)
\usepackage{natbib}
\renewcommand{\bibname}{DAFTAR PUSTAKA}
% Support for Unicode box-drawing characters in monospaced text
\usepackage{pmboxdraw}
% String manipulation for dynamic text
\usepackage{xstring}
% Native diagram and plotting packages (no external images)
\usepackage{tikz}
\usetikzlibrary{arrows.meta,positioning,shapes.geometric,fit}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

% --- Page setup ---
\geometry{a4paper, top=3cm, left=4cm, bottom=3cm, right=3cm}
\onehalfspacing

% --- Hyperref setup ---
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  citecolor=blue,
  urlcolor=blue,
  pdfauthor={Nama Mahasiswa},
  pdftitle={Judul Skripsi}
}

% --- Listings (code) setup ---
\definecolor{codebg}{RGB}{245,245,245}
\lstdefinestyle{code}{
  backgroundcolor=\color{codebg},
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue},
  stringstyle=\color{teal},
  commentstyle=\color{gray},
  numbers=left,
  numberstyle=\tiny, 
  stepnumber=1,
  numbersep=8pt,
  showstringspaces=false,
  tabsize=2,
  breaklines=true,
  frame=single,
  framerule=0.3pt
}
\lstset{style=code}

% --- Chapter format (optional, cleaner look) ---
\titleformat{\chapter}[display]
  {\bfseries\fontsize{14pt}{17pt}\selectfont}
  {\centering\MakeUppercase{Bab}~\Roman{chapter}}
  {1ex}
  {\vspace{1ex}\centering}
\titlespacing*{\chapter}{0pt}{0pt}{20pt}

% --- Section/Subsection format (Force 12pt as per requirement) ---
\titleformat{\section}
  {\bfseries\normalsize} % 12pt Bold
  {\thesection}
  {1em}
  {}
\titlespacing*{\section}{0pt}{12pt}{6pt}

\titleformat{\subsection}
  {\bfseries\normalsize} % 12pt Bold
  {\thesubsection}
  {1em}
  {}
\titlespacing*{\subsection}{0pt}{12pt}{6pt}

\titleformat{\subsubsection}
  {\bfseries\normalsize} % 12pt Bold
  {\thesubsubsection}
  {1em}
  {}
\titlespacing*{\subsubsection}{0pt}{12pt}{6pt}

% --- Document meta (edit these) ---
\newcommand{\JudulSkripsi}{PAICODE: AGENTIC AI BERBASIS CLI UNTUK OTOMASI AKTIVITAS PEMROGRAMAN DAN PENGEMBANGAN PERANGKAT LUNAK DI LINUX YANG DITENAGAI LLM MELALUI API}
\newcommand{\NamaMahasiswa}{I PUTU GEDE GILANG TEJA KRISHNA}
\newcommand{\NIM}{225410001}
\newcommand{\Prodi}{INFORMATIKA}
\newcommand{\Fakultas}{FAKULTAS TEKNOLOGI INFORMASI}
\newcommand{\Universitas}{UNIVERSITAS TEKNOLOGI DIGITAL INDONESIA}
\newcommand{\Tahun}{2025}
\newcommand{\TahunAngkatan}{2022}

% --- Watermark Setup ---
\newcommand{\WatermarkBackground}{%
  \begin{tikzpicture}[remember picture, overlay]
    \node[opacity=1, inner sep=0pt] at ([xshift=0.5cm]current page.center) {
      \includegraphics[width=8cm]{assets/img/yellowscaleutdilogo.png}
    };
  \end{tikzpicture}%
}

\begin{document}

% --- Cover (Sampul Depan) ---
\include{front_cover}

% --- Title Page (Halaman Judul) ---
% Start Roman numbering from here (i)
\pagenumbering{roman}
\include{front_halaman_judul}

% Skip page ii (blank/hidden) so Approval starts at iii
\stepcounter{page}

% --- Approval Pages (iii, iv) ---
\include{front_persetujuan}
\include{front_pengesahan}

% --- Declaration of Authenticity (v) ---
\include{front_pernyataan}

% --- Dedication (vi) ---
\include{front_motto_persembahan}

% --- Preface (vii) ---
\include{front_kata_pengantar}

% --- Table of contents & lists (viii, ix, x) ---
\cleardoublepage
\addcontentsline{toc}{chapter}{DAFTAR ISI}
\tableofcontents

\cleardoublepage
\addcontentsline{toc}{chapter}{DAFTAR GAMBAR}
\listoffigures

\cleardoublepage
\addcontentsline{toc}{chapter}{DAFTAR TABEL}
\listoftables

% --- Abstract (xi, xii) ---
\chapter*{INTISARI}
\addcontentsline{toc}{chapter}{INTISARI}
Penelitian ini mengusulkan \textbf{Paicode}, sebuah agen AI berbasis Command Line Interface (CLI) untuk membantu proses pengembangan perangkat lunak secara interaktif dengan arsitektur \textit{Single-Shot Intelligence}. Sistem berjalan pada lingkungan terminal lokal dan melakukan \textbf{operasi berkas tingkat-aplikasi di ruang kerja proyek (project workspace)}; namun \textbf{mengirimkan cuplikan kode/konteks ke layanan LLM (Gemini) melalui API} untuk keperluan inferensi. Oleh karena itu, aspek privasi dan kerahasiaan kode \textbf{bergantung pada kebijakan penyedia API}, sedangkan pengamanan lokal difokuskan pada kebijakan \textit{path security}. Himpunan perintah yang disediakan (mis. \texttt{READ}, \texttt{WRITE}, \texttt{MODIFY}, \texttt{TREE}, \texttt{LIST\_PATH}) memungkinkan agen mengobservasi proyek, memanipulasi berkas, dan memodifikasi kode secara terarah dengan sistem perubahan berbasis \textit{diff}.

Arsitektur \textit{Single-Shot Intelligence} mengoptimalkan efisiensi dengan sistem panggilan API yang terdiri dari: (1) klasifikasi intensi, (2) acknowledgment dinamis, (3) fase perencanaan untuk analisis mendalam dan perencanaan komprehensif dalam format JSON, (4) fase eksekusi adaptif yang dapat berjalan dalam 1-3 subfase berdasarkan kompleksitas tugas, dan (5) saran langkah berikutnya. Sistem mencakup manajemen API key tunggal dengan migrasi otomatis dari sistem multi-key, \textit{interrupt handling} (Ctrl+C), dan pencatatan sesi ke \texttt{.pai\_history}.

Metode yang digunakan adalah \textit{Research and Development} (R\&D) dengan pendekatan \textit{prototyping} iteratif. Evaluasi dilakukan melalui skenario tugas representatif, dengan metrik efisiensi (jumlah panggilan API), ketepatan hasil (kompilasi/eksekusi), dan kepatuhan keamanan \textit{path}. Hasil menunjukkan bahwa agen \textit{stateful} dengan arsitektur \textit{Single-Shot Intelligence} dan pembatasan perubahan berbasis \textit{diff} dengan threshold ganda (500 baris absolut dan 50\% ratio maksimal) memudahkan pengembangan bertahap sambil menekan risiko penimpaan berkas. Sistem eksekusi adaptif dengan 1-3 subfase terbukti lebih efisien dibandingkan pendekatan tradisional yang memerlukan banyak panggilan API berulang, dengan tetap mempertahankan kualitas hasil yang optimal.

\textbf{Kata kunci}: agentic AI, CLI, LLM, API, Single-Shot Intelligence, keamanan \textit{path}, pengembangan perangkat lunak.

\chapter*{ABSTRACT}
\addcontentsline{toc}{chapter}{ABSTRACT}
This thesis presents \textbf{Paicode}, an agentic AI for the Command Line Interface (CLI) that assists software development through interactive, stateful workflows with a \textit{Single-Shot Intelligence} architecture. The system runs on a local terminal and performs \textbf{application-level file operations within the project workspace}, while \textbf{sending code/context snippets to an external LLM (Gemini) via API} for inference. Consequently, privacy and confidentiality \textbf{depend on the provider's policy}, whereas local safeguards focus on path-security policies. A compact set of commands (e.g., \texttt{READ}, \texttt{WRITE}, \texttt{MODIFY}, \texttt{TREE}, \texttt{LIST\_PATH}) enables the agent to observe the project, manipulate files, and apply targeted code modifications with \textit{diff}-based change system.

The \textit{Single-Shot Intelligence} architecture optimizes efficiency through an API call system consisting of: (1) intent classification, (2) dynamic acknowledgment, (3) planning phase for deep analysis and comprehensive JSON-based planning, (4) adaptive execution phase that can run in 1-3 sub-phases based on task complexity, and (5) next-step suggestions. The system includes single API key management with automatic migration from multi-key systems, \textit{interrupt handling} (Ctrl+C), and session logging to \texttt{.pai\_history}.

We adopt a Research and Development approach with iterative prototyping. The evaluation uses representative programming scenarios and measures efficiency (API call count), correctness (build/run), and security compliance. Results indicate that a stateful agent with \textit{Single-Shot Intelligence} and \textit{diff}-based change constraints with dual thresholds (500-line absolute and 50\% maximum ratio) facilitates incremental development while reducing the risk of unintended overwrites. The adaptive execution system with 1-3 sub-phases proves more efficient than traditional approaches requiring multiple repetitive API calls, while maintaining optimal result quality.

\textbf{Keywords}: agentic AI, CLI, LLM, API, Single-Shot Intelligence, path security, software engineering.


% --- Switch to arabic numbering for main content ---
\cleardoublepage
\pagenumbering{arabic}

% --- Chapters ---
\include{bab1_pendahuluan}
\include{bab2_tinjauan_pustaka}
\include{bab3_metodologi}
\include{bab4_implementasi_hasil}
\include{bab5_kesimpulan_saran}


% --- Bibliography ---
\cleardoublepage
\renewcommand{\bibname}{DAFTAR PUSTAKA} % Ensure UpperCase title
\addcontentsline{toc}{chapter}{DAFTAR PUSTAKA} % Add to TOC
\bibliographystyle{apalike} % change to preferred style if needed
\bibliography{daftar_pustaka}

\end{document}
